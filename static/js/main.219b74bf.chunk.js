(this["webpackJsonpsca-rabbi-schedules"]=this["webpackJsonpsca-rabbi-schedules"]||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/spinner.3acec546.gif"},27:function(e,t,a){e.exports=a.p+"static/media/SCALogo.80df96a3.png"},42:function(e,t){},51:function(e,t,a){e.exports=a.p+"static/media/on-air-indicator.fb6b3f3c.png"},52:function(e,t,a){e.exports=a.p+"static/media/sca-white.cbe6bec1.svg"},54:function(e,t,a){e.exports=a(89)},63:function(e,t,a){},76:function(e,t){},77:function(e,t){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(45),l=a.n(c),i=a(21),s=(a(61),a(37),a(62),a(63),a(2)),o=a(14),u=a(18),m=a(46),d=a(13),h=a(19),f=a(24),p=a.n(f),v=(a(33),function(e){return Object.entries(e).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(h.a)({_id:a},n)}))}),b=function(e,t,a){var n=Object(d.a)(a[0]),r=E(a,e);if(-1===r)return Object(d.a)(a);var c=a.slice(1).filter((function(e){var a=e[r];return a&&!a.toLowerCase().includes(t.toLowerCase())}));return[n].concat(c)},g=function(e,t,a){var n=Object(d.a)(a[0]),r=E(a,e);if(-1===r)return[n];var c=a.slice(1).filter((function(e){var a=e[r];return a&&a.toLowerCase().includes(t.toLowerCase())}));return[n].concat(c)},E=function(e,t){return e[0].findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase())}))},w=function(e){var t=e.input,a=e.highlight,n=e.row,c=e.passwordCol,l=m.find(t),i=Object(o.f)(),s="";if(~c&&"-"!==n[c]&&(s="Password: ".concat(n[c])),0===l.length)return r.a.createElement("p",{className:a&&"highlight"},t);var u=l[0],d=u.value,h=u.type,f="/"===i.pathname?80:40;return r.a.createElement("span",null,r.a.createElement("a",{href:d,style:{height:f,width:f},className:d.includes("zoom")&&"url"===h?"zoomIcon":d.includes("gotomeeting")&&"url"===h?"gtmIcon":""},"url"===h?"Click here":d)," ",r.a.createElement("p",{className:"password"},s))},y=function(e){var t=e.schedule,a=e.filter,n=Object(o.f)(),c=t.title,l=t.rows,i=t.logo,s=a?g(a.type,a.match,l):b("type","minyan",l);if(1===s.length)return null;var u=s[0].reduce((function(e,t,a){return t.toString().toLowerCase().startsWith("hide")&&e.push(a),e}),[]),m=a&&l[0].findIndex((function(e){return e.toLowerCase().includes(a.type)})),d=l[0].findIndex((function(e){return e.toLowerCase().includes("password")})),h=function(e,t){if("topic"===(null===a||void 0===a?void 0:a.type)&&"/bekhorot"===n.pathname)return!1;var r=e.toLowerCase();return m===t&&r.includes(a.match)};return r.a.createElement("div",{className:"schedule-card my-5"},r.a.createElement("div",{className:"card-header"},!!i&&r.a.createElement("div",{className:"w-100"},r.a.createElement("img",{src:i,className:"logo ml-4"})),r.a.createElement("h1",{className:"schedule-title"},c)),r.a.createElement("table",{className:"table table-striped table-bordered table-hover shadow"},r.a.createElement("thead",{className:"text-light"},r.a.createElement("tr",null,s[0].map((function(e,t){if(!u.includes(t))return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,s.slice(1).map((function(e,t){return r.a.createElement("tr",{key:t},e.map((function(t,a){if(!u.includes(a))return r.a.createElement("td",{key:a},r.a.createElement(w,{input:t,row:e,passwordCol:d,highlight:h(t,a)}))})))})))))},N=function(e){var t=e.attachment,a=t.title,n=t.file,c=t.cover,l=t.body;return r.a.createElement("div",{className:"col-md-4 my-3"},r.a.createElement("div",{className:"card text-center h-100"},!!c&&r.a.createElement("div",{className:"card-img-top w-100"},r.a.createElement("img",{src:c,className:"attachment-cover"})),r.a.createElement("a",{href:n,target:"_blank",className:"card-body d-flex flex-column align-items-center bg-aliceblue"},r.a.createElement("h3",{className:"card-title"},a),!!l&&r.a.createElement("p",{className:"card-text"},l),r.a.createElement("span",{className:"btn btn-primary d-inline-block mt-auto"},"Click to download"))))},C=a(28),k=a(25),x=a.n(k),j=a(3),O=a.n(j),S=a(5),A=a(7),L=a(10),F=function(){function e(t){Object(A.a)(this,e),this.storage=void 0,this.convertTimesToLocalTimezone=function(e){var t=e[0].findIndex((function(e){return e.toLowerCase().includes("time")}));return e.forEach((function(e,a){return a&&(e[t]=(n=e[t],p()(n,"h:mm A").tz("America/New_York").format("h:mm A")));var n})),e},this.storage=t}return Object(L.a)(e,[{key:"getAllSchedules",value:function(){var t=Object(S.a)(O.a.mark((function t(){var a=this;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.read(e.scheduleRef).then((function(e){return a.convertTimesToLocalTimezone(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onSchedulesChanged",value:function(t){var a=this;this.storage.onChange(e.scheduleRef,(function(e){t(a.convertTimesToLocalTimezone(e))}))}}]),e}();F.scheduleRef="1TS3fZHRPlhI4L_URhKJXGa48eOy6BiqM1GeSUJL9jFs/live-website-feed";var I=function(e){return new F(e)},D=function(){function e(t){Object(A.a)(this,e),this.storage=void 0,this.storage=t}return Object(L.a)(e,[{key:"addAttachment",value:function(){var e=Object(S.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.push("attachments",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeAttachment",value:function(){var e=Object(S.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.delete("attachments",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAttachment",value:function(){var e=Object(S.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.write("attachments/".concat(t),a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAllAttachments",value:function(){var e=Object(S.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.storage.findAll("attachments");case 3:return e.t1=e.sent,e.abrupt("return",e.t0._alphabetize.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAttachmentsChanged",value:function(e){var t=this;this.storage.onChange("attachments",(function(a){return e(t._alphabetize(v(a)))}))}},{key:"_alphabetize",value:function(e){return e?e.sort((function(e,t){return e.title>t.title?1:e.title<t.title?-1:0})):[]}}]),e}();var T=function(e){return new D(e)},U=a(50),B=a.n(U),z=(a(86),a(90),function(){function e(t){Object(A.a)(this,e),this.db=void 0,this.storage=void 0;var a=B.a.initializeApp(t);this.db=a.database(),this.storage=a.storage()}return Object(L.a)(e,[{key:"read",value:function(){var e=Object(S.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.ref(t).once("value").then((function(e){return e.val()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"write",value:function(){var e=Object(S.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.ref(t).set(a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"push",value:function(){var e=Object(S.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.ref(t).push(a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findAll",value:function(){var e=Object(S.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.ref(t).once("value").then((function(e){return e.val()||{}})).then(v));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(S.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.ref("".concat(t,"/").concat(a)).remove());case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e,t){this.db.ref(e).on("value",(function(e){return t(e.val())}))}}]),e}());var M=function(e){return new z(e)},_=function(){function e(t){Object(A.a)(this,e),this.storage=void 0,this.storage=t}return Object(L.a)(e,[{key:"addForm",value:function(){var e=Object(S.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.push("tehillim",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeForm",value:function(){var e=Object(S.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.delete("tehillim",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateForm",value:function(){var e=Object(S.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.write("tehillim/".concat(t),a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAllForms",value:function(){var e=Object(S.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.storage.findAll("tehillim");case 3:return e.t1=e.sent,e.abrupt("return",e.t0._alphabetize.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onFormsChanged",value:function(e){var t=this;this.storage.onChange("tehillim",(function(a){return e(t._alphabetize(v(a)))}))}},{key:"_alphabetize",value:function(e){return e?e.sort((function(e,t){return e.firstName>t.firstName?1:e.firstName<t.firstName?-1:0})):[]}}]),e}();var P=function(e){return new _(e)},R=M({apiKey:"AIzaSyDUNiNW3dfplmHAq65wfKIGGSHS8MGXgzM",authDomain:"sca-rab-schedules.firebaseapp.com",databaseURL:"https://sca-rab-schedules.firebaseio.com",projectId:"sca-rab-schedules",storageBucket:"sca-rab-schedules.appspot.com",messagingSenderId:"893196040077",appId:"1:893196040077:web:75ee18b5d771028f616fc4"}),W=I(R),H=T(R),q=P(R),J=a(26),G=a.n(J),Q=function(e){var t=e.onImageDropped,a=e.currentImage,c=Object(n.useState)(a),l=Object(s.a)(c,2),i=l[0],o=l[1];Object(n.useEffect)((function(){return o(a)}),[a]);var u=Object(C.a)({onDrop:function(e){var t=e[0];if(!/^([a-zA-Z0-9\s_\\.\-:])+(.jpg|.jpeg|.png)$/.test(t.name.toLowerCase()))return alert("Only files with .jpg or .jpeg or .png extensions are allowed here.")}});u.getRootProps,u.getInputProps,u.isDragActive;return r.a.createElement("div",{className:"image-dropper mt-2"},r.a.createElement("form",null,r.a.createElement(x.a,{accept:"image/*",randomizeFilename:!0,storageRef:R.storage.ref("/logos"),metadata:{cacheControl:"max-age=2592000"},onUploadStart:function(e){o(G.a)},onUploadSuccess:function(e){R.storage.ref("/logos").child(e).getDownloadURL().then((function(e){o(e),t(e)}))},id:"image-drop"}),r.a.createElement("label",{htmlFor:"image-drop"},r.a.createElement("p",null,"Drop logo here",r.a.createElement("br",null),"(or click to choose file)"))),!!i&&r.a.createElement("img",{src:i,className:"logo"}))},K=a(6),V=a.n(K),X=function(e){var t=e.schedules,a=e.filter,n=e.heading,c=[];t.forEach((function(e){var t,n="minyan"===(null===a||void 0===a?void 0:a.match)?g(a.type,a.match,e.rows):b("type","minyan",e.rows);(t=c).push.apply(t,Object(d.a)(n))}));var l=c[0];if(c.length<2)return null;c=g("toggle","show",c);var i=l.findIndex((function(e){return e.toLowerCase().includes("days")})),s=l.findIndex((function(e){return e.toLowerCase().includes("time")})),o=l.findIndex((function(e){return e.toLowerCase().includes("password")})),u=l.reduce((function(e,t,a){return(t.toString().toLowerCase().startsWith("hide")||t.toString().toLowerCase().startsWith("days"))&&e.push(a),e}),[]),m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=new Date,f=c.filter((function(e){var t=!1,a=e[i];if(a.includes("Daily"))t=!0;else if(a.includes(m[h.getDay()]))t=!0;else if(a.includes("-")){a.split(/[^\w-]/).forEach((function(e){if(e.includes("-")){var a=e.split("-"),n=m.findIndex((function(e){return a[0].includes(e)})),r=m.findIndex((function(e){return a[1].includes(e)}));n<h.getDay()&&r>h.getDay()&&(t=!0)}}))}return t})),p=[],v=[],E=[];return f.forEach((function(e){var t=e[s].match(/\d\d?:\d\d ?(?:[AP]M)?/g);if(!t)return!1;!t[0].toLowerCase().includes("pm")&&e[3].toLowerCase().includes("pm")&&(t[0]+=" pm");var a=V()(t[0],"h:mm:ss a"),n=t.length>1?V()(t[1],"h:mm:ss a"):V()(a).add(1,"h");a.subtract(10,"m"),V()(h).isBetween(a,n,null,"[)")?p.push(e):V()(h).isSameOrAfter(n)?v.push(e):V()(h).isBefore(a)&&E.push(e)})),r.a.createElement("div",{className:"schedule-card my-5"},p.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{className:"schedule-title"},"Ongoing ",n)),r.a.createElement("table",{className:"table table-striped table-bordered table-hover shadow"},r.a.createElement("thead",{className:"text-light"},r.a.createElement("tr",null,l.map((function(e,t){if(!u.includes(t))return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,p.map((function(e,t){return r.a.createElement("tr",{key:t},e.map((function(t,a){if(!u.includes(a))return r.a.createElement("td",{key:a},r.a.createElement(w,{input:t,passwordCol:o,row:e}))})))}))))),E.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{className:"schedule-title"},"Upcoming ",n)),r.a.createElement("table",{className:"table table-striped table-bordered table-hover shadow"},r.a.createElement("thead",{className:"text-light"},r.a.createElement("tr",null,l.map((function(e,t){if(!u.includes(t))return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,E.map((function(e,t){return r.a.createElement("tr",{key:t},e.map((function(t,a){if(!u.includes(a))return r.a.createElement("td",{key:a},r.a.createElement(w,{input:t,passwordCol:o,row:e}))})))}))))),v.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{className:"schedule-title"},"Completed ",n)),r.a.createElement("table",{className:"table table-striped table-bordered table-hover shadow"},r.a.createElement("thead",{className:"text-light"},r.a.createElement("tr",null,l.map((function(e,t){if(!u.includes(t))return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,v.map((function(e,t){return r.a.createElement("tr",{key:t},e.map((function(t,a){if(!u.includes(a))return r.a.createElement("td",{key:a},r.a.createElement(w,{input:t,passwordCol:o,row:e}))})))}))))))},Z=a(53),Y=(a(88),a(51)),$=a.n(Y),ee=function(){return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{className:"swipe-indicator-icon"}))},te=function(e){var t=e.schedules,a=e.filter,c=e.heading,l=Object(n.useState)(!0),i=Object(s.a)(l,2),o=i[0],u=i[1];Object(n.useEffect)((function(){new Z.a(".swiper-container",{slidesPerView:"auto",centeredSlides:!0,grabCursor:!0})}));var m=[];t.forEach((function(e){var t="minyan"===(null===a||void 0===a?void 0:a.match)?g(a.type,a.match,e.rows):b("type","minyan",e.rows);m.push.apply(m,Object(d.a)(t))}));var h=m[0];if(m.length<2)return null;var f=h.findIndex((function(e){return e.toLowerCase().includes("days")})),p=h.findIndex((function(e){return e.toLowerCase().includes("time")})),v=h.findIndex((function(e){return e.toLowerCase().includes("join")})),E=h.findIndex((function(e){return e.toLowerCase().includes("topic")})),y=h.findIndex((function(e){return e.toLowerCase().includes("teacher")})),N=h.findIndex((function(e){return e.toLowerCase().includes("password")})),C=(h.reduce((function(e,t,a){return(t.toString().toLowerCase().startsWith("hide")||t.toString().toLowerCase().startsWith("days"))&&e.push(a),e}),[]),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),k=new Date,x=function(e){return m.filter((function(t){var a=!1,n=t[f];if(n.includes("Daily"))a=!0;else if(n.includes(C[e]))a=!0;else if(n.includes("-")){n.split(/[^\w-]/).forEach((function(t){if(t.includes("-")){var n=t.split("-"),r=C.findIndex((function(e){return n[0].includes(e)})),c=C.findIndex((function(e){return n[1].includes(e)}));r<e&&c>e&&(a=!0)}}))}return a}))},j=[],O=[],S=[];x((new Date).getDay()).forEach((function(e){var t=e[p].match(/\d\d?:\d\d ?(?:[AP]M)?/g);if(!t)return!1;!t[0].toLowerCase().includes("pm")&&e[3].toLowerCase().includes("pm")&&(t[0]+=" pm");var a=V()(t[0],"h:mm:ss a"),n=t.length>1?V()(t[1],"h:mm:ss a"):V()(a).add(1,"h");V()(k).isBetween(a,n,null,"[)")?j.push(e):V()(k).isSameOrAfter(n)?O.push(e):V()(k).isBefore(a)&&S.push(e)}));var A=!1;if(0===j.length){if(0===S.length){var L=x(((new Date).getDay()+1)%7);j=L.slice(0,L.length>6?6:L.length)}else j=S.slice(0,S.length>6?6:S.length);A=!0}return r.a.createElement("div",{onClick:function(){return u(!1)}},r.a.createElement("div",{className:"Minyanim"===c?"h3 shadow-lg p-3 mb-5 bg-secondary text-center font-weight-bold text-white":"h3 shadow-lg p-3 mb-5 bg-primary text-center font-weight-bold text-white"},"Ongoing ",c),r.a.createElement("div",{className:"text-center"},A&&r.a.createElement("h2",{className:"mr-2 font-weight-bold"},"Up Next:")),r.a.createElement("div",{className:"swiper-container live-classes d-flex justify-content-center mb-5"},r.a.createElement("div",{className:"swiper-wrapper align-items-center"},o&&r.a.createElement(ee,null),j.map((function(e,t){var a=e[p],n=e[E],c=e[y],l=e[v];return r.a.createElement("div",{className:"swiper-slide card mb-3 flex-grow-1 mx-1",key:t,style:{maxWidth:"400px"}},r.a.createElement("div",{className:"row no-gutters align-items-center",style:{border:"4px solid #1E4169",height:165}},r.a.createElement("div",{className:"col-7"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text my-0"},a),r.a.createElement("p",{className:"card-text my-0"},r.a.createElement("small",{className:"text-muted"},c)),r.a.createElement("h5",{className:"card-title text-bold mt-2"},n))),r.a.createElement("div",{className:"col-5"},!A&&r.a.createElement("img",{src:$.a,width:"40",height:"40",style:{position:"absolute",right:8,top:8},alt:""}),r.a.createElement("div",{className:"pt-5 pr-3"},r.a.createElement(w,{input:l,row:e,passwordCol:N})))))})))))},ae=a(27),ne=a.n(ae),re=function(e){var t,a=Object(o.f)(),c=null===(t=ge[a.pathname])||void 0===t?void 0:t.pageName;return Object(n.useEffect)((function(){console.log(c)}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"navbar navbar-expand-lg navbar-light fixed-top bg-light shadow"},r.a.createElement("a",{href:"/#",className:"navbar-brand"},r.a.createElement("img",{className:"py-0",src:ne.a,alt:"SCA",height:"60"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("nav",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("ul",{"data-toggle":"collapse","data-target":"#navbarNavAltMarkup.show",className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"/today"===a.pathname?"active nav-item":"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/#/today"},"Classes")),r.a.createElement("li",{className:"/minyanim"===a.pathname?"active nav-item":"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/#/minyanim"},"Minyanim")),r.a.createElement("li",{className:"/letters"===a.pathname?"active nav-item":"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/#/letters"},"COVID-19")),r.a.createElement("li",{className:"/tehillim"===a.pathname?"active nav-item":"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/#/tehillim"},"Tehillim Requests")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"mailto:info@scaupdates.org"},"Contact"))))),r.a.createElement("div",{className:"header-spacing"}),!!c&&r.a.createElement("h5",{className:"w-100 text-center header-title my-5"},c))},ce=a(52),le=a.n(ce),ie=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"bg-dark d-flex"},r.a.createElement("a",{href:"/#",className:"my-5 mx-auto d-block"},r.a.createElement("img",{className:"py-0",src:le.a,alt:"SCA",height:"60",width:"177"}))))},se=function(e){var t=e.schedules,a=Object(n.useState)("none"),c=Object(s.a)(a,2),l=c[0],i=c[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),d=m[0],h=m[1],f=Object(n.useState)("Classes"),p=Object(s.a)(f,2),v=p[0],b=p[1],g=Object(o.f)(),w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Object(n.useEffect)((function(){if("/minyanim"===g.pathname)b("Minyanim"),i("type"),h("minyan");else if("/today"===g.pathname){var e=new Date,t=w[e.getDay()];i("day"),h(t)}}),[w,g.pathname]);var N=Object(n.useCallback)((function(){var e=/\d\d?:\d\d ([AP]M)/,a=[];return t.forEach((function(t){var n=t.rows,r=E(n,"time"),c=n.map((function(e){return e[r]})).filter((function(t){return e.test(t)})).map((function(t){return t.match(e)[0]}));a=a.concat(c)})),Array.from(new Set(a)).sort((function(e,t){var a=new Date("1970/01/01 "+e),n=new Date("1970/01/01 "+t);return a>n?1:a<n?-1:0}))}),[t]),C=Object(n.useCallback)((function(){var e=[];return t.forEach((function(t){var a=t.rows,n=E(a,"teacher"),r=a.map((function(e){return e[n]}));e=e.concat(r)})),Array.from(new Set(e)).sort()}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"https://dol.scatorah.org",title:"Click to go to Yom Ha'asmaut day of learning main page"},r.a.createElement("div",{className:"bg-day-of-learning-banner"})),"/minyanim"!==g.pathname&&r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("ul",{className:"nav nav-pills nav-justified m-3 w-100"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/#/today",className:"/today"===g.pathname?"nav-link active":"nav-link"},"Today's Classes")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/#/classes",className:"/classes"===g.pathname?"nav-link active":"nav-link"},"Full Schedule")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"https://www.youtube.com/channel/UCsHn2xQEscv11QaNHpPf37A",target:"_blank",rel:"noopener",className:"nav-link"},"Recordings"))))),r.a.createElement("div",{className:"container"},"/today"===g.pathname&&r.a.createElement(X,{schedules:t,filter:!("none"===l||""===d)&&{type:l,match:d},heading:v})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-group mt-3 mx-3"},r.a.createElement("label",{htmlFor:"filter",className:"/classes"===g.pathname?"header-title":"hidden"},"Filter By:"," ",r.a.createElement("select",{name:"filter",onChange:function(e){i(e.target.value),h("")},id:"",value:l},r.a.createElement("option",{value:"none"},"No filter"),r.a.createElement("option",{value:"time"},"Time of day"),r.a.createElement("option",{value:"day"},"Day of week"),r.a.createElement("option",{value:"topic"},"Topic"),r.a.createElement("option",{value:"teacher"},"Teacher")),"none"!==l&&("day"===l?r.a.createElement("select",{className:"ml-2",onChange:function(e){return h(e.target.value)}},r.a.createElement("option",{value:""},"Choose Day"),r.a.createElement("option",{value:"mon"},"Mon"),r.a.createElement("option",{value:"tues"},"Tues"),r.a.createElement("option",{value:"wed"},"Wed"),r.a.createElement("option",{value:"thurs"},"Thurs"),r.a.createElement("option",{value:"fri"},"Fri"),r.a.createElement("option",{value:"sun"},"Sun")):"time"===l?r.a.createElement("select",{className:"ml-2",onChange:function(e){return h(e.target.value.toLowerCase())}},r.a.createElement("option",{value:""},"Choose Time"),N().map((function(e){return r.a.createElement("option",{value:e},e)}))):"teacher"===l?r.a.createElement("select",{className:"ml-2",onChange:function(e){return h(e.target.value.toLowerCase())}},r.a.createElement("option",{value:""},"Choose Teacher"),C().map((function(e){return r.a.createElement("option",{value:e},e)}))):r.a.createElement("input",{type:"text",className:"ml-2",onChange:function(e){return h(e.target.value.toLowerCase())},placeholder:"Enter ".concat(l,"(s)")}))))),"/today"!==g.pathname&&t.map((function(e,t){return r.a.createElement(y,{key:t,schedule:e,filter:!("none"===l||""===d)&&{type:l,match:d}})}))))},oe=function(e){var t=e.attachments;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-stretch"},t.map((function(e,t){return r.a.createElement(N,{key:t,attachment:e})})))))},ue=function(e){var t=e.attachment,a=e.isEditing,n=e.onUpdateBtnPressed,c=e.onDeleteBtnPressed;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between my-2"},r.a.createElement("h3",null,t.title),a?r.a.createElement("button",{className:"btn btn-danger m-1",onClick:c},"x"):r.a.createElement("button",{className:"btn btn-warning",onClick:n},r.a.createElement("i",{className:"fas fa-edit text-light"})))},me=function(e){var t=e.attachments,a=e.createAttachment,c=e.deleteAttachment,l=e.updateAttachment,i=Object(n.useState)(void 0),o=Object(s.a)(i,2),u=o[0],m=o[1],d=function(e){return m(Object(h.a)({},u,{},e))},f=!1;return Object(n.useEffect)((function(){console.log(u)}),[u]),r.a.createElement("div",{className:"admin-page-container"},r.a.createElement("div",{className:"schedule-manager-widget row mt-5 py-5"},r.a.createElement("div",{className:"col scroll-content"},t.map((function(e,t){return r.a.createElement(ue,{key:t,attachment:e,isEditing:(null===u||void 0===u?void 0:u._id)===e._id,onUpdateBtnPressed:function(){return m(e)},onDeleteBtnPressed:function(){return c(e._id)}})}))),r.a.createElement("div",{className:"col schedule-upload-container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",{className:"text-light"},u?"Update Attachment:":"Upload Attachment Here:")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Attachment Title",value:(null===u||void 0===u?void 0:u.title)||"",onChange:function(e){return d({title:e.target.value})}}),r.a.createElement(Q,{onImageDropped:function(e){return d({cover:e})},currentImage:null===u||void 0===u?void 0:u.cover}),r.a.createElement("div",{className:"image-dropper mt-2"},r.a.createElement("form",null,r.a.createElement(x.a,{randomizeFilename:!0,metadata:{cacheControl:"max-age=2592000"},storageRef:R.storage.ref("/attachments"),onUploadStart:function(e){f=!0},onUploadSuccess:function(e){R.storage.ref("/attachments").child(e).getDownloadURL().then((function(e){d({file:e}),f=!1}))},id:"file-drop"}),r.a.createElement("label",{htmlFor:"file-drop"},r.a.createElement("p",null,"Drop attachment here",r.a.createElement("br",null),"(or click to choose file)"))),!!f&&r.a.createElement("img",{src:G.a}),!!(null===u||void 0===u?void 0:u.file)&&r.a.createElement("a",{href:u.file,target:"_blank"},"Preview")),r.a.createElement("textarea",{className:"form-control mt-2",placeholder:"Caption",value:(null===u||void 0===u?void 0:u.body)||"",onChange:function(e){return d({body:e.target.value})}}),r.a.createElement("button",{className:"btn btn-success mt-2",onClick:function(){var e={title:u.title,file:u.file,cover:u.cover||"",body:u.body||""};u._id?l(u._id,e):a(e),m(void 0)}},(null===u||void 0===u?void 0:u._id)?"Save updates":"Upload Attachment"))))},de=function(e){var t=e.forms,a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),m=u[0],d=u[1],h=Object(n.useState)(""),f=Object(s.a)(h,2),p=f[0],v=f[1],b=Object(n.useState)(""),g=Object(s.a)(b,2),E=g[0],w=g[1],y=function(e){i(""),d(""),v(""),w("Submitted!"),setTimeout((function(){w("")}),2e3)},N=function(e){w("Error")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"We are compiling a list of those who have fallen ill to share with the community so that we may dedicate our prayers and learning in the merit of their complete and speedy recovery."),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),R.push("tehillim",{firstName:l,benbat:m,mothersName:p}).then(y,N)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstName"},"Hebrew First Name"),r.a.createElement("input",{type:"text",id:"firstName",className:"form-control",onChange:function(e){return i(e.target.value)},value:l,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Ben/Bat"),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"radio",id:"ben",name:"benbat",value:"ben",checked:!("ben"!==m),onChange:function(e){return e.target.checked&&d(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"ben"}," Ben")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"radio",id:"bat",name:"benbat",value:"bat",checked:!("bat"!==m),onChange:function(e){return e.target.checked&&d(e.target.value)}}),r.a.createElement("label",{htmlFor:"bat"}," Bat"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"mothersName"},"Mother's Hebrew Name"),r.a.createElement("input",{type:"text",id:"mothersName",className:"form-control",onChange:function(e){return v(e.target.value)},value:p,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg"},"Submit"),!!E&&r.a.createElement("span",{className:"alert"},E)))),r.a.createElement("div",{className:"container my-5"},r.a.createElement("table",{className:"table table-striped table-bordered table-hover shadow"},r.a.createElement("thead",{className:"text-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Please dedicate prayers and learning in the merit of their complete and speedy recovery."))),r.a.createElement("tbody",null,t.map((function(e,t){var a=~e.firstName.search(/[\u0590-\u05FF]/)&&~e.mothersName.search(/[\u0590-\u05FF]/),n=e.benbat;return a&&(n="ben"===n?"\u05d1\u05df":"\u05d1\u05ea"),r.a.createElement("tr",{key:t},r.a.createElement("td",{dir:a&&"rtl"},e.firstName," ",n," ",e.mothersName))}))))))},he=function(e){var t=e.schedules;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home-bg-img"},r.a.createElement("div",{className:"opaque-overlay"})),r.a.createElement("div",{className:"bg-pesah py-5 block shadow"},r.a.createElement("img",{src:ne.a,className:"centered-image img-fluid",height:"150",alt:""})),r.a.createElement("div",{className:"block"},r.a.createElement(te,{schedules:t,filter:{type:"",match:""},heading:"Classes"})),r.a.createElement("a",{href:"https://www.dol.scatorah.org/"},r.a.createElement("div",{className:"shadow text-center pb-2",style:{backgroundColor:"#BEE3F4"}},r.a.createElement("div",{className:"bg-pesah-recordings pb-5 block text-center"}),r.a.createElement("a",{href:"https://www.dol.scatorah.org/",className:"btn btn-danger px-4 mt-2"},"Click here for full schedule"))),r.a.createElement("div",{className:"block"},r.a.createElement(te,{schedules:t,filter:{type:"type",match:"minyan"},heading:"Minyanim"})),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center my-3 site-nav-index"},r.a.createElement("a",{href:"https://chat.whatsapp.com/FUQrLPQSXlZ8EeB0F1kHLJ",className:"btn btn-primary btn-whatsapp btn-lg m-3"},"Join Chat for Class Updates"),r.a.createElement("a",{href:"mailto:info@scaupdates.org",className:"btn btn-primary btn-lg m-3 btn-email"},"Contact the SCA")))},fe=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){W.onSchedulesChanged((function(e){c([{title:"All Schedules",rows:e}])}))}),[]),r.a.createElement(se,{schedules:a})},pe=function(e){return Object.entries(e).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1],c=n.exact,l=n.Component;return r.a.createElement(o.a,{path:a,exact:c,component:l})}))},ve={"/edit-letters":{exact:!0,Component:function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){H.onAttachmentsChanged(c)}),[]);return r.a.createElement(me,{attachments:a,createAttachment:function(e){return e.file?e.title?H.addAttachment(e):alert("Please enter the title of this table"):alert("Please upload an attachment first")},updateAttachment:function(e,t){return H.updateAttachment(e,t)},deleteAttachment:function(e){return H.removeAttachment(e)}})}}},be=function(){var e=Object(o.e)();return Object(n.useEffect)((function(){return e.listen((function(e){i.a.pageview(e.pathname)}))}),[e]),null},ge={"/":{exact:!0,Component:function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){W.onSchedulesChanged((function(e){c([{title:"All Schedules",rows:e}])})),i.a.pageview("/")}),[]),r.a.createElement(he,{schedules:a})},pageName:""},"/today":{exact:!0,Component:fe},"/classes":{exact:!0,Component:fe},"/minyanim":{exact:!0,Component:fe},"/bekhorot":{exact:!0,Component:fe,pageName:"SCA Affiliate Synagogue - Siyum Bekhorot Schedules"},"/letters":{exact:!0,Component:function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){H.onAttachmentsChanged(c)}),[]),r.a.createElement(oe,{attachments:a})},pageName:"COVID-19 Letters"},"/tehillim":{exact:!0,Component:function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){q.onFormsChanged(c)}),[]),r.a.createElement(de,{forms:a})},pageName:"SCA Tehilim Requests"},"/admin":{Component:function(){return r.a.createElement(u.a,{basename:"/admin"},pe(ve))}}},Ee=function(){return r.a.createElement(u.a,null,r.a.createElement(be,null),r.a.createElement(re,null),pe(ge),r.a.createElement(ie,null))},we=function(){return r.a.createElement(Ee,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.initialize("UA-164561407-1"),l.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.219b74bf.chunk.js.map